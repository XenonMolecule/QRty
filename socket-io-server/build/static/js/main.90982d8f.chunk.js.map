{"version":3,"sources":["components/EntryBar.js","components/JoinAlert.js","components/CopyClipboard.js","components/TextCard.js","components/ImageCard.js","layouts/MessengerPage.js","layouts/HomePage.js","components/QRCode.js","components/QRtyNav.js","layouts/JoinRoomPage.js","layouts/InstructionPage.js","App.js","serviceWorker.js","index.js"],"names":["EntryBar","props","useState","text","setText","InputGroup","FormControl","as","aria-label","style","value","onChange","e","target","Append","Button","variant","onClick","send","btnText","JoinAlert","Row","className","Toast","onClose","setShow","show","delay","autohide","Body","CopyClipboard","state","copied","this","onCopy","setState","color","React","Component","TextCard","content","children","split","forEach","val","push","Card","ImageCard","Img","src","img","MessengerPage","startRoom","window","location","pathname","startsWith","slice","socketIOClient","socket","room","messages","setMessages","showJoinAlert","setShowJoinAlert","fileUpload","useRef","addMessage","msg","concat","addImage","url","joinAlert","console","log","useEffect","emit","setTimeout","disconnect","on","removeListener","Container","Navbar","bg","expand","fixed","Col","sm","xs","href","current","click","icon","faImages","hidden","ref","id","type","accept","formData","FormData","image","files","append","fetch","ENDPOINT","method","body","then","blob","json","data","catch","length","result","characters","charsLength","i","charAt","Math","floor","random","makeID","size","QRCode","fgColor","includeMargin","renderAs","level","bgColor","QRtyNav","showPopup","setShowPopup","handleClose","collapseOnSelect","Brand","height","alt","Toggle","aria-controls","Collapse","Nav","Link","Modal","onHide","Header","closeButton","Title","join","Footer","txt0","txt1","txt2","txt3","txt4","txt5","refs","focus","roomCode","Form","Group","controlId","Control","onKeyDown","keyCode","block","InstructionPage","App","page","rel","Boolean","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","error","message"],"mappings":"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","file":"static/js/main.90982d8f.chunk.js","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport InputGroup from 'react-bootstrap/InputGroup';\nimport FormControl from 'react-bootstrap/FormControl';\nimport Button from 'react-bootstrap/Button';\n\nexport default function EntryBar(props) {\n\n    let [text, setText] = useState(\"\");\n\n    return (\n        <InputGroup>\n            <FormControl as=\"textarea\"\n                         aria-label=\"send\"\n                         style={{'resize':'none'}}\n                         value = {text}\n                         onChange = {(e) => {\n                            setText(e.target.value);\n                        }}/>\n            <InputGroup.Append>\n                <Button variant=\"info\" style={{'width':'100px'}} onClick = {() => {\n                    props.send(text);\n                    setText(\"\");\n                }}>{props.btnText}</Button>\n            </InputGroup.Append>\n        </InputGroup>\n    );\n}\n","import React, { useState } from \"react\";\nimport Toast from 'react-bootstrap/Toast';\nimport Row from \"react-bootstrap/Row\";\n\nexport default function JoinAlert(props) { \n\n    return (\n        <>\n            <Row className={\"justify-content-center\"} >\n                <Toast onClose={() => props.setShow(false)} show={props.show} delay={3000} autohide>\n                    <Toast.Body>New Connection!</Toast.Body>\n                </Toast>\n            </Row>    \n        </>\n    );\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {CopyToClipboard} from 'react-copy-to-clipboard';\n \nclass CopyClipboard extends React.Component {\n  state = {\n    copied: false,\n  };\n \n  render() {\n    return (\n      <div>\n        <CopyToClipboard text= {this.props.text}\n          onCopy={() => this.setState({copied: true})}>\n          <button>Copy</button>\n        </CopyToClipboard>\n        {this.state.copied ? <span style={{color: 'red'}}>Copied.</span> : null}\n      </div>\n    );\n  }\n}\nexport default CopyClipboard;\n","import React  from \"react\";\n\nimport Card from 'react-bootstrap/Card'\nimport Row from \"react-bootstrap/Row\";\nimport CopyToClipboard from './CopyClipboard.js'\n\nexport default function TextCard(props) {\n    let content = []\n    props.children.split(\"\\n\").forEach((val) => {\n        content.push(<pre style={{'marginBottom':'0px'}}>{val + \"\\n\"}</pre>)\n    })\n    return (\n        <Row className={'justify-content-center'}>\n            <Card style={{'marginBottom':'10px'}}>\n                <Card.Body>\n                    {content}\n                    <CopyToClipboard text = {content[0].props.children}></CopyToClipboard>\n                </Card.Body>\n            </Card>\n        </Row>\n    );\n}\n","import React from \"react\";\n\nimport Row from \"react-bootstrap/Row\";\nimport Card from 'react-bootstrap/Card';\nimport '../styles/imgCard.css'\n\nexport default function ImageCard(props) {\n    return (\n        <Row className={'justify-content-center'}>\n            <Card style={{'marginBottom':'10px'}}>\n                    <Card.Img variant=\"top\" src={props.img}/>\n            </Card>\n        </Row>\n    );\n}\n","import React, { useEffect, useState, useRef } from \"react\";\nimport socketIOClient from \"socket.io-client\";\n\nimport EntryBar from \"../components/EntryBar\";\nimport JoinAlert from \"../components/JoinAlert\";\nimport Container from \"react-bootstrap/Container\"\nimport Navbar from \"react-bootstrap/Navbar\";\nimport TextCard from \"../components/TextCard\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faImages } from '@fortawesome/free-solid-svg-icons'\nimport ImageCard from \"../components/ImageCard\";\nimport Row from \"react-bootstrap/Row\";\nimport Col from \"react-bootstrap/Col\";\n\nimport '../styles/messenger.css'\n\nconst ENDPOINT = \"localhost:4001\"   //\"https://qrty-app.herokuapp.com\";\n\nexport default function MessengerPage() {\n    let startRoom = window.location.pathname;\n    if (startRoom.startsWith(\"/room/\")) {\n        startRoom = startRoom.slice(6);\n    }\n\n    const [socket, setSocket] = useState(socketIOClient(ENDPOINT));\n    let [room, setRoom] = useState(startRoom);\n    let [messages, setMessages] = useState([]);\n    const [showJoinAlert, setShowJoinAlert] = useState(false);\n\n    const fileUpload = useRef(null);\n\n    function addMessage(msg) {\n        setMessages(messages.concat(\n            <TextCard>{msg}</TextCard>\n        ));\n    }\n\n    function addImage(url) {\n        setMessages(messages.concat(\n           <ImageCard img={url}/>\n        ));\n    }\n\n    function joinAlert() {\n        setShowJoinAlert(true);\n        console.log('show alert');\n    }\n\n    useEffect(() => {\n        socket.emit(\"join room\", room);\n        setTimeout(() => {socket.emit('send join alert', room)}, 500)\n        return () => socket.disconnect();\n    }, []);\n\n    useEffect(() => {\n        socket.on('textMessage', addMessage);\n        return () => socket.removeListener('textMessage', addMessage)\n    },[messages]);\n\n    useEffect(() => {\n        socket.on('imgMessage', addImage);\n        return () => socket.removeListener('imgMessage', addImage);\n    })\n\n    useEffect(() => {\n        socket.on('newConnection', joinAlert);\n        return () => socket.removeListener('newConnection', joinAlert);\n    })\n\n    return (\n        <>\n            <Container>\n                <hr style={{'opacity':'0'}}/>\n                <JoinAlert show = {showJoinAlert} setShow = {setShowJoinAlert} />\n                {messages}\n                <hr style={{'opacity':'0','marginTop':'78px'}}/>\n                <Navbar bg=\"light\" expand=\"lg\" fixed={\"bottom\"}>\n                    <Container>\n                        <Row className={\"justify-content-center\"} style={{'width':'100%'}}>\n                            <Col sm={3}/>\n                            <Col sm={5} xs={10}>\n                                <EntryBar btnText={\"Send\"} send={(text) => {\n                                    addMessage(text);\n                                    socket.emit(\"textMessage\", {text: text, room: room});\n                                }}/>\n                            </Col>\n                            <Col sm={4} xs={2} className={\"img-upload-icon\"} style={{'marginTop':'8px', 'marginLeft':'-25px'}}>\n                                <h1>\n                                    <a href={\"#\"} style={{'color':\"#148496\", 'marginLeft':'15px'}} onClick={()=> {\n                                        fileUpload.current.click();\n                                    }}>\n                                        <FontAwesomeIcon icon={faImages}/>\n                                    </a>\n                                </h1>\n                            </Col>\n                        </Row>\n\n                    </Container>\n                </Navbar>\n            </Container>\n            <input hidden ref={fileUpload} id=\"image-file\" type=\"file\" accept={\"image/*\"} onChange={(e)=> {\n                if (e.target.value) {\n                    let formData = new FormData();\n                    let image = fileUpload.current.files[0];\n\n                    formData.append(\"file\", image);\n\n                    try {\n                        fetch(ENDPOINT + '/uploads', {method: \"POST\", body: formData})\n                            .then(blob => blob.json())\n                            .then(data => {\n                                addImage(data.data);\n                                socket.emit(\"imgMessage\", {img: data.data, room: room});\n                            }).catch(e => {\n                                console.log(e);\n                            return e;\n                        });\n                    } catch(e) {\n                        console.log('Error in image upload...:', e);\n                    }\n                }\n            }}/>\n        </>\n    );\n}\n","import React, { useEffect, useState } from \"react\";\n\nimport Container from \"react-bootstrap/Container\";\nimport Button from \"react-bootstrap/Button\";\nimport Row from \"react-bootstrap/Row\";\n\nexport default function MessengerPage() {\n\n    return (\n        <Container style={{'font-family':'Oswald'}}>\n            <Row className=\"justify-content-center\" style={{'text-transform': 'uppercase'}}>\n                <h1>Welcome to QRty</h1>\n            </Row>\n            <Row className=\"justify-content-center\">\n                <p>Easily share content between multiple devices</p>\n            </Row>\n            <Row className=\"justify-content-center\">\n                <Button onClick={() => {window.location='/room/' + makeID(6)}} variant=\"primary\" size=\"lg\" style = {{'margin-top':'20px', 'text-transform': 'uppercase'}}>\n                    Create a Room\n                </Button>{' '}\n            </Row>\n            <Row className=\"justify-content-center\">\n                <Button onClick={() => {window.location=\"joinroom\"}} variant=\"primary\" size=\"lg\" style = {{'margin-top':'40px', 'text-transform': 'uppercase'}}>\n                    Join a Room\n                </Button>{' '}\n            </Row>\n            <Row className=\"justify-content-center\" style = {{'margin-top':'40px'}}>\n                <a href=\"/infopage\">About QRty</a>\n            </Row>\n        </Container>\n    );\n\n    function makeID(length) {\n        var result = '';\n        var characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n        var charsLength = characters.length;\n        for ( var i = 0; i < length; i++ ) {\n            result += characters.charAt(Math.floor(Math.random() * charsLength));\n        }\n        return result;\n    }\n}\n","import React from 'react';\nimport QR from 'qrcode.react'\n\nfunction QRCode(props) {\n  return (\n    <div className=\"QRCode\">\n      <QR value={props.text} fgColor=\"black\" includeMargin={true} renderAs=\"svg\" level=\"H\"  size={150} bgColor=\"white\"/>\n    </div>\n  );\n}\n\nexport default QRCode;\n","import React, { useEffect, useState } from \"react\";\nimport Navbar from \"react-bootstrap/Navbar\";\nimport Nav from \"react-bootstrap/Nav\";\nimport Button from \"react-bootstrap/Button\";\nimport Modal from \"react-bootstrap/Modal\";\nimport QRCode from \"./QRCode\";\nimport Row from \"react-bootstrap/Row\";\n\nexport default function QRtyNav(props) {\n\n    let [showPopup, setShowPopup] = useState(false);\n\n    const handleClose = () => setShowPopup(false);\n    const handleShow = () => setShowPopup(true);\n\n    return (\n        <>\n            <Navbar bg=\"light\" collapseOnSelect expand=\"sm\">\n                <Navbar.Brand href=\"/\">\n                    <img\n                        src=\"/QRtyLogo.png\"\n                        height=\"40\"\n                        className=\"d-inline-block align-top\"\n                        alt=\"QRty logo\"\n                    />\n                </Navbar.Brand>\n                <Navbar.Toggle aria-controls=\"responsive-navbar-nav\" />\n                <Navbar.Collapse id=\"responsive-navbar-nav\">\n                    <Nav className=\"mr-auto\">\n                    <Nav.Link href=\"/infopage\">About</Nav.Link>\n                        <Nav.Link href={\"/room/\" + makeID(6)}>Create a Room</Nav.Link>\n                        <Nav.Link href=\"/joinroom\">Join a Room</Nav.Link>\n                    </Nav>\n                    {props.room ? <Nav>\n                        <Button variant={\"outline-secondary\"} onClick={handleShow}>Add Device</Button>\n                    </Nav> : null}\n                </Navbar.Collapse>\n            </Navbar>\n            <Modal show={showPopup} onHide={handleClose}>\n                <Modal.Header closeButton>\n                    <Modal.Title>Add Device</Modal.Title>\n                </Modal.Header>\n                <Modal.Body>\n                    <Row className=\"justify-content-center\">\n                        <QRCode text = {\"\" + window.location}></QRCode>\n                    </Row>\n                    <Row className=\"justify-content-center\">\n                        <h2>{props.room.slice(0).split(\"\").join(\" \")}</h2>\n                    </Row>\n                </Modal.Body>\n                <Modal.Footer>\n                    <Button variant=\"secondary\" onClick={handleClose}>\n                        Close\n                    </Button>\n                </Modal.Footer>\n            </Modal>\n        </>\n    );\n}\n\n// TODO: DON'T REPEAT FUNCTION!!!\nfunction makeID(length) {\n    var result = '';\n    var characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n    var charsLength = characters.length;\n    for ( var i = 0; i < length; i++ ) {\n        result += characters.charAt(Math.floor(Math.random() * charsLength));\n    }\n    return result;\n}\n","import React, { useEffect, useState, useRef } from \"react\";\nimport socketIOClient from \"socket.io-client\";\n\nimport Container from \"react-bootstrap/Container\";\nimport Navbar from \"react-bootstrap/Navbar\";\nimport Row from \"react-bootstrap/Row\";\nimport Form from \"react-bootstrap/Form\";\nimport Col from \"react-bootstrap/Col\";\nimport Button from \"react-bootstrap/Button\";\nimport QRtyNav from \"../components/QRtyNav\";\n\nexport default function MessengerPage() {\n    const txt0 = useRef(null);\n    const txt1 = useRef(null);\n    const txt2 = useRef(null);\n    const txt3 = useRef(null);\n    const txt4 = useRef(null);\n    const txt5 = useRef(null);\n    let refs = [txt0, txt1, txt2, txt3, txt4, txt5];\n\n    useEffect(() => {\n        txt0.current.focus();\n    }, []);\n\n    let roomCode = [];\n\n    for (let i = 0; i < 6; i ++) {\n        roomCode.push(<Form.Group as={Col} controlId={\"roomID-\" + i}>\n            <Form.Control ref={refs[i]} style={{'height':'150px','fontSize':'60px','textAlign':'center'}} onChange = {(e) => {\n                if (e.target.value != \"\") {\n                    if (e.target.value.length > 1) {\n                        e.target.value = e.target.value[e.target.value.length - 1];\n                    }\n                    if(i < 5) {\n                        refs[i + 1].current.focus();\n                    }\n                } else {\n                    if (i > 0) {\n                        refs[i - 1].current.focus();\n                    }\n                }\n            }}\n            onKeyDown = {(e) => {\n                if (e.keyCode == 8) {\n                    if (i > 0){\n                        e.target.value = \"\";\n                        refs[i-1].current.focus();\n                    }\n                }\n            }}/>\n        </Form.Group>);\n    }\n\n    return (\n        <>\n            <Container style={{'fontFamily':'Oswald'}}>\n                <Row className=\"justify-content-center\" style={{'text-transform': 'uppercase'}}>\n                    <h1>Join a Room</h1>\n                </Row>\n                <Row className=\"justify-content-center\">\n                    <p>Enter the 6-character room code below:</p>\n                </Row>\n                <Row className=\"justify-content-center\">\n                    <Form>\n                        <Form.Row>\n                            {roomCode}\n                        </Form.Row>\n                        <Form.Row className={\"justify-content-center\"}>\n                            <Button size={\"lg\"} style={{\"height\":\"50px\"}} block onClick={()=> {\n                                let room = \"room/\";\n                                for(let i = 0; i < 6; i ++) {\n                                    room += refs[i].current.value;\n                                }\n                                if (room.length == 11) {\n                                    window.location = \"/\" + room;\n                                }\n                            }}>Join</Button>\n                        </Form.Row>\n                    </Form>\n                </Row>\n            </Container>\n        </>\n    );\n}\n","import React, { useEffect, useState } from \"react\";\n\nimport Container from \"react-bootstrap/Container\";\nimport Button from \"react-bootstrap/Button\";\nimport Row from \"react-bootstrap/Row\";\n\nexport default function InstructionPage() {\n\n    return (\n        <Container style={{'font-family':'Oswald'}}>\n            <Row className=\"justify-content-center\" style={{'text-transform': 'uppercase'}}>\n                <h1>Welcome to QRty!</h1>\n                <br></br><br></br><br></br><br></br>\n            </Row>\n            <Row className=\"justify-content-center\">\n                <h4>How to Create a Room:</h4>\n            </Row>\n            <Row className=\"justify-content-center\">\n                <ul>\n                <li>When you click the Create a Room button you will have created a private room to store your text and images.</li>\n                <li>You can invite friends to your room with the 6 digits at the end of the URL</li>\n                <li>If you click the Add Device button in the upper right hand corner, you will see a QR code and your room code </li>\n                <li>You can scan this QR code on mobile devices and then view your text and images across platforms</li>\n                <li>You can also upload images or text from that new device and it will appear on other devices in the same room</li>\n                </ul>\n            </Row>\n            <Row className=\"justify-content-center\">\n                <Button onClick={() => {window.location='/room/' + makeID(6)}} variant=\"primary\" size=\"lg\" style = {{'margin-top':'20px', 'text-transform': 'uppercase'}}>\n                    Create a Room\n                </Button>{' '}\n            </Row>\n            <Row>\n                <p>   </p>\n            </Row>\n            <br></br><br></br>\n            <Row className=\"justify-content-center\">\n                <h4>How to Join a Room:</h4>\n            </Row>\n            <Row className=\"justify-content-center\">\n            <ul>\n            <li>To join a room you will need either the 6-digit code or the QR code</li>\n                <li>After clicking the Join a Room button, simply enter the code and you will see live updates across platforms</li>\n                </ul>\n            </Row>\n            <Row className=\"justify-content-center\">\n                <Button onClick={() => {window.location=\"joinroom\"}} variant=\"primary\" size=\"lg\" style = {{'margin-top':'40px', 'text-transform': 'uppercase'}}>\n                    Join a Room\n                </Button>{' '}\n            </Row>\n        </Container>\n    );\n\n    function makeID(length) {\n        var result = '';\n        var characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n        var charsLength = characters.length;\n        for ( var i = 0; i < length; i++ ) {\n            result += characters.charAt(Math.floor(Math.random() * charsLength));\n        }\n        return result;\n    }\n}","import React, { useState } from \"react\";\nimport MessengerPage from \"./layouts/MessengerPage\";\nimport HomePage from \"./layouts/HomePage\";\nimport JoinRoomPage from \"./layouts/JoinRoomPage\";\nimport InstructionPage from \"./layouts/InstructionPage\";\nimport QRtyNav from \"./components/QRtyNav\";\n\nfunction App() {\n    const [loadClient, setLoadClient] = useState(true);\n    let page = <MessengerPage/>;\n    let room = \"\";\n    switch(window.location.pathname) {\n        case \"/\" :\n            page = <HomePage/>;\n            break;\n        case \"/joinroom\":\n            page = <JoinRoomPage/>;\n            break;\n        case \"/infopage\":\n            page = <InstructionPage/>\n            break;\n        default:\n            if (window.location.pathname.startsWith(\"/room/\")) {\n                room = window.location.pathname.slice(6);\n            } else {\n                room = window.location.pathname;\n            }\n    }\n    return (\n        <>\n            <QRtyNav room={room}/>\n            {page}\n            <link href=\"https://fonts.googleapis.com/css?family=Oswald\" rel=\"stylesheet\"/>\n        </>\n    );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}